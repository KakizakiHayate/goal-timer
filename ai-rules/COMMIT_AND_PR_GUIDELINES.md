# コミット & プルリクエスト（PR）マニュアル

## 1. コミット

### 1.1 原則
- **Must**: 1コミット＝1意図（単一の目的/変更に限定する）  
- **Must**: 動作する最小単位でコミット（ビルドを壊さない）  
- **Should**: 1コミットあたり **300行程度以内** を目安に分割  
- **Must**: 秘密情報（鍵/トークン/個人情報）は含めない  

### 1.2 メッセージ規約（Conventional Commits 準拠）
```
<type>(<scope>): <要約（日本語・現在形・50字以内）>

<詳細（なぜ・何を・どうやって）>
Refs: <チケットID>
```

- **type**: `feat` / `fix` / `docs` / `refactor` / `perf` / `test` / `chore` / `ci`  
- **scope**: 画面/モジュール/レイヤ（例：`WordDetail`、`infra/api`）

**例**
```
fix(WordDetail): 選択解除で前回ハイライトが残る不具合を修正
原因：選択状態が画面破棄時に解除されていなかった  
対応：disposeで初期化処理を追加、タップ時に明示的解除を実装  
Refs: TANZAM_MHT-1234
```

### 1.3 分割ルール
- **Must**: リファクタと機能追加は別コミットに分ける  
- **Should**: フォーマッタ（lint修正）は単独コミットに分離  
- **Must**: 生成物/ロックファイルの大量更新はコミット理由を明記  

### 1.4 禁止事項（NG）
- 「修正」「WIP」だけの要約  
- 無関係の変更を抱き合わせる  
- 未使用コード/デバッグログを残す  

---

## 2. プルリクエスト（PR）

### 2.1 作成ルール
- **Must**: PRテンプレートの**全項目を日本語で埋める**（未記入なし）  
- **Must**: チケット（Backlog/Jira 等）をリンク  
- **Must**: スクショ/動画/ログなど**エビデンス添付**（Before/After、端末/OS明記）  
- **Must**: 自己レビュー（差分コメント/チェックリスト）を完了後に依頼  
- **Should**: 差分は**300行程度以内**に分割（不可なら理由を明記）  
- **Must**: テスト・ビルド・lint を通過（CI緑）  

### 2.2 レビュー観点（チェックリスト）
- [ ] PRテンプレートがすべて埋まっている（未記入なし）  
- [ ] エビデンスが十分で、修正後も更新されている  
- [ ] 差分が過度に大きくない（目安：300行以内、分割検討）  

### 2.3 PRレビュー対象外（いずれかに該当）
- 1PRで **12ファイル以上** 変更している  
- バグ修正なのに「原因」と「解決方法」の記載がない  
- エビデンスが添付されていない  